package com.innfotech.imagelibrary.widget;

import com.facebook.react.bridge.ReadableMap;
import com.facebook.react.uimanager.SimpleViewManager;
import com.facebook.react.uimanager.ThemedReactContext;
import com.facebook.react.uimanager.annotations.ReactProp;

import android.support.annotation.Nullable;


/**
 * 图片组件基础类管理器
 */
public class ReactImageManager extends SimpleViewManager<IFImageView> {
    /**
     * 设置js引用名
     * @return String
     */
    @Override
    public String getName() {
        return "RCTIFImageView";
    }

    /**
     * 创建UI组件实例
     * @param reactContext
     * @return ReactImageView
     */
    @Override
    protected IFImageView createViewInstance(final ThemedReactContext reactContext) {
        return new IFImageView(reactContext);
    }
    @ReactProp(name = "src")
    public void setSrc(final IFImageView imageView, @Nullable ReadableMap src) {
        imageView.setInitValue(
                src.getInt("cornersRadius"),
                src.getInt("borderWidth"),
                src.getString("borderColor"),
                src.getBoolean("isCircle"),
                src.getString("scaleType"),
                src.getString("uri"));
    }
    @ReactProp(name="scale")
    public void setScale(IFImageView imageView, float scale){
        imageView.setScale(scale);
    }
    @ReactProp(name="autoPlay")
    public void setAutoPlay(IFImageView imageView, boolean autoPlay){
        imageView.setAutoPlay(autoPlay);
    }

}